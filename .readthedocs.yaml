# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

# Required
version: 2

# Set the OS, Python version, and other tools you might need
build:
    os: ubuntu-24.04
    tools:
        python: "3.10"

    # https://browniebroke.com/blog/2022-11-21-specify-docs-dependency-groups-with-poetry-and-read-the-docs/
    # https://docs.readthedocs.com/platform/stable/config-file/v2.html#build-jobs
    jobs:
        pre_create_environment:
            - echo "Command run at 'pre_create_environment' step"

        post_build:
            - echo "Command run at 'post_build' step"
            - echo `date`

        post_create_environment:
            # Install Poetry
            - pip install poetry

            # Tell Poetry to not use a virtual environment
            - poetry config virtualenvs.create false

        post_install:
            # Install dependencies
            - poetry install --with docs

# Build documentation with Mkdocs
mkdocs:
    configuration: mkdocs.yml

# Optionally, but recommended,
# declare the Python requirements required to build your documentation
# See https://docs.readthedocs.io/en/stable/guides/reproducible-builds.html
# python:
#    install:
#    - requirements: docs/requirements.txt


# Optionally build your docs in additional formats such as PDF and ePub
formats:
    - pdf
    - epub
